<div class="dashboard-container">
  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-content">
      <h1>Gerenciador de Tarefas</h1>
      <div class="user-info">
        <span>Olá, {{ currentUser?.name }}!</span>
        <button class="btn btn-outline" (click)="logout()">Sair</button>
      </div>
    </div>
  </header>

  <!-- Stats Cards -->
  <div class="stats-section">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon total">📋</div>
        <div class="stat-content">
          <h3>{{ stats.totalTasks }}</h3>
          <p>Total de Tarefas</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon completed">✅</div>
        <div class="stat-content">
          <h3>{{ stats.completedTasks }}</h3>
          <p>Concluídas</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon pending">⏳</div>
        <div class="stat-content">
          <h3>{{ stats.pendingTasks }}</h3>
          <p>Pendentes</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon progress">📊</div>
        <div class="stat-content">
          <h3>{{ getCompletionPercentage() }}%</h3>
          <p>Progresso</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Controls -->
  <div class="controls-section">
    <div class="view-controls">
      <button 
        class="btn"
        [class.btn-primary]="currentView === 'all'"
        [class.btn-secondary]="currentView !== 'all'"
        (click)="onViewChange('all')">
        Todas
      </button>
      <button 
        class="btn"
        [class.btn-primary]="currentView === 'today'"
        [class.btn-secondary]="currentView !== 'today'"
        (click)="onViewChange('today')">
        Hoje
      </button>
      <button 
        class="btn"
        [class.btn-primary]="currentView === 'week'"
        [class.btn-secondary]="currentView !== 'week'"
        (click)="onViewChange('week')">
        Esta Semana
      </button>
      <button 
        class="btn"
        [class.btn-primary]="currentView === 'month'"
        [class.btn-secondary]="currentView !== 'month'"
        (click)="onViewChange('month')">
        Este Mês
      </button>
    </div>
    
    <button class="btn btn-success" (click)="onNewTask()">
      ➕ Nova Tarefa
    </button>
  </div>

  <!-- Task Form Modal -->
  <div *ngIf="showTaskForm" class="modal-overlay" (click)="onTaskFormCanceled()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <app-task-form 
        [task]="selectedTask"
        (taskSaved)="onTaskSaved()"
        (taskCanceled)="onTaskFormCanceled()">
      </app-task-form>
    </div>
  </div>

  <!-- Tasks List -->
  <div class="tasks-section">
    <div *ngIf="loading" class="loading">
      Carregando tarefas...
    </div>
    
    <app-task-list 
      *ngIf="!loading"
      [tasks]="tasks"
      (editTask)="onEditTask($event)"
      (deleteTask)="onDeleteTask($event)"
      (toggleTask)="onToggleTask($event)">
    </app-task-list>
  </div>
</div>

